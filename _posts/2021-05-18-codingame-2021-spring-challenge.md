---
title: "Codingame Spring Challenge 2021"
date: 2021-04-26
categories:
  - Diary
tags:
  - Diary
description: notes during Codingame Spring Challenge 2021
---

[Codingame の開催する Spring Challenge 2021][codingame-spring-2021]に参加したときの振り返り.  
調べたこととその時のメモ書きが入り乱れています:pray:  
MM 系のコンテストは初挑戦だったため，正確さを欠く，または誤った表記を含む可能性があります．
気づいたことがありましたらご指摘いただければ幸いです.

## 初日

### マラソンマッチ(MM)とは

多項式時間で解くことができない・指定時間以内に厳密解を求めることが困難な問題に対して近似解を求めるコンテスト.  
例えばゲームだと三目並べは必勝法(=解)があるけど，囲碁や将棋については必勝法は存在しない. AlphaGo[^1]や将棋電王戦[^2]のコンピュータ将棋なんかは，このマラソンマッチで用いるような手法を用いて勝率の高い手を求めている.

### 立ち回り

†社会人スキル†が結構必要で，問題点の把握と仮説検証サイクルをくるくるしてくのが大事っぽい．  
一方で手を動かすことで問題を把握する[^3]ことを推奨している方もいるので，問題の理解は自分にあったやり方を探すのがよさそう．  
とりあえずまずは問題を理解するところから.

### ルール概要

リーグ制で，Wood2→Wood1→Bronze→Silver→Gold→Legend で構成される.  
リーグが上がるとルールが徐々に開放されていくようになっていたので，開始初日での自分のルールの認識はこんなもんだった.

- 2 人対戦のゲームがテーマ．手番はなく 2 人が同時に操作を行う.
  - 操作は COMPLETE(収穫)，GROW(成長)，SEED(種まき)，WAIT(何もしないをする[^4])
  - プレイヤー同士の操作がコンフリクトしたらエネルギーだけ消費する
- Wood2 リーグではゲームは 1 日間，Wood1 リーグでは 6 日間.
  - 両プレイヤーがともに WAIT すると 1 日が終わる
- 37 マスのゲーム盤上で木を育て，収穫によって得られたポイントの高いプレイヤーの勝利.
  - 木からは毎ターンその大きさに応じたエネルギーを得られる
  - 木を育てるにはそのエネルギーが木の大きさに応じて必要
- 操作に 100ms 以上かかったり，無効な操作をしたらその場で失格

### 方針

とりあえず Wood1 を目指そう.

- SEED から COMPLETE までは 5 日間かかる
- Wood1 でも 6 日間しかないから，GROW にかかるエネルギーを考えると SEED はほぼ不可能.
- 収穫できるものは収穫して，時点で成長できるものは成長させてみる.

操作を Complete→Grow→SEED→WAIT の順でソートして出力してみると Wood2 を突破. Wood1 でもそのままのコードで対戦させてみると Bronze に昇格できた.

## 2~4 日目

### ルール差分

- ゲームが 24 日間になる
- 木の長さ分ゲーム盤上に影ができる
  - 影に含まれる木からはエネルギーを得られない

### 方針

::: info 5 日目時点でのコメント
振り返ってみるとかなり立ち回りがよくなくて，24 日間もあるなら探索とか必要だろうと思ってシミュレータを書いた.
まずはルールから何がプラスで何がマイナスなのか，探索するならするでどういった方針で探索するかを考えてから動こう.
:::

[codingame-spring-2021]: https://www.codingame.com/contests/spring-challenge-2021

[^1]: https://deepmind.com/research/case-studies/alphago-the-story-so-far
[^2]: https://ja.wikipedia.org/wiki/%E5%B0%86%E6%A3%8B%E9%9B%BB%E7%8E%8B%E6%88%A6
[^3]: https://chokudai.hatenablog.com/entry/2014/12/04/000132
[^4]: "doing nothing often leads to the very best something.", winnie the Pooh の言葉.
